<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hanaonestock.transaction.model.dao.TransactionMapper">
    <insert id="insertBuyTransaction" parameterType="com.hanaonestock.transaction.model.dto.Transaction">
        INSERT INTO TRANSACTION (T_ID, ID, BUY, VOLUME, ISIN, DATE_BUY, DURATION)
        VALUES (T_ID_seq.NEXTVAL, #{id}, #{buy}, #{volume}, #{isin}, #{dateBuy}, #{duration})
    </insert>

    <update id="updateSellTransaction" parameterType="com.hanaonestock.transaction.model.dto.Transaction">
        UPDATE TRANSACTION
        SET SELL = #{sell}, DATE_SELL = #{dateSell}
        WHERE ID = #{id} and ISIN = #{isin}
    </update>
</mapper>